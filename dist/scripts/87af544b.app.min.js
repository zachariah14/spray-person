"use strict";angular.module("gangstead.SprayPerson",["ngAnimate","ngRoute","ngResource"]).config(["$locationProvider","$routeProvider",function(a,b){a.html5Mode(!1),b.when("/",{templateUrl:"views/home.html",controller:"MainCtrl"}).when("/person",{templateUrl:"views/person.html",controller:"PersonCtrl"}).when("/person/new",{templateUrl:"views/person-new.html",controller:"PersonNewCtrl"}).when("/person/:id",{templateUrl:"views/person-view.html",controller:"PersonViewCtrl"}).when("/person/:id/edit",{templateUrl:"views/person-edit.html",controller:"PersonEditCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("gangstead.SprayPerson").controller("MainCtrl",["$rootScope","$location",function(a,b){a.$path=b.path.bind(b)}]).controller("PersonCtrl",["$scope","$rootScope","$location","$route","People",function(a,b,c,d,e){b.$path=c.path.bind(c),a.people=e.query(),a.canEdit=!0,a.canDelete=!0,a.deletePerson=function(a){a.$delete(function(){d.reload()})},a.editPerson=function(a){c.path("/person/"+a.id+"/edit")}}]).controller("PersonViewCtrl",["$scope","$rootScope","$location","$routeParams","People",function(a,b,c,d,e){b.$path=c.path.bind(c),a.person=e.get({id:d.id}),a.canEdit=!0,a.canDelete=!0,a.deletePerson=function(a){a.$delete(function(){c.path("/person")})},a.editPerson=function(a){c.path("/person/"+a.id+"/edit")}}]).controller("PersonEditCtrl",["$scope","$rootScope","$location","$routeParams","People",function(a,b,c,d,e){b.$path=c.path.bind(c),a.person=e.get({id:d.id}),a.canEdit=!1,a.canDelete=!0,a.deletePerson=function(a){a.$delete(function(){c.path("/person")})},a.updatePerson=function(){a.person.$update(function(){c.path("/person/"+a.person.id)})}}]).controller("PersonNewCtrl",["$scope","$rootScope","$location","People",function(a,b,c,d){function e(a){return!isNaN(a)&&parseInt(Number(a))===a&&!isNaN(parseInt(a,10))}b.$path=c.path.bind(c),a.person=new d,a.canEdit=!1,a.canDelete=!1,a.addPerson=function(){e(a.person.age)||(a.person.age=0),a.person.$save(function(){c.path("/person")})}}]),angular.module("gangstead.SprayPerson").factory("People",["$resource",function(a){return a("api/person/:id",{id:"@id"},{update:{method:"PUT"}})}]);